{"ast":null,"code":"var _jsxFileName = \"E:\\\\ClubSync\\\\frontend\\\\src\\\\pages\\\\BudgetPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { FaTrash, FaEdit, FaPlusCircle, FaCheckCircle, FaArrowLeft } from 'react-icons/fa';\nimport './BudgetPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetPage = () => {\n  _s();\n  const {\n    bookingId\n  } = useParams();\n  const navigate = useNavigate();\n  const [budgetStatus, setBudgetStatus] = useState('pending');\n  const [budgetItems, setBudgetItems] = useState([]);\n  const [newItem, setNewItem] = useState({\n    item_category: 'Logistics',\n    item_name: '',\n    quantity: 1,\n    unit_price: 0,\n    event_name: ''\n  });\n  const [editingItem, setEditingItem] = useState(null);\n  const [totalBudget, setTotalBudget] = useState(0);\n  const [clubName, setClubName] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [loading, setLoading] = useState(true); // Add a loading state\n\n  useEffect(() => {\n    const fetchBudgetDetails = async () => {\n      setLoading(true); // Start loading\n      try {\n        const response = await axios.get(`/api/budget/${bookingId}`);\n        if (response.data) {\n          var _response$data$budget;\n          // Check if response.data exists\n          setBudgetStatus(response.data.budgetStatus || 'pending'); // Default\n          setBudgetItems(response.data.budgetItems || []); // Default\n          setTotalBudget(((_response$data$budget = response.data.budget) === null || _response$data$budget === void 0 ? void 0 : _response$data$budget.total_budget) || 0); // Default\n        } else {\n          setErrorMessage('No budget data found.');\n          setBudgetStatus('pending');\n          setBudgetItems([]);\n          setTotalBudget(0);\n        }\n        const storedClubName = localStorage.getItem('clubName');\n        const storedEventName = localStorage.getItem('currentEventName');\n        setClubName(storedClubName || '');\n        setNewItem(prev => ({\n          ...prev,\n          event_name: storedEventName || ''\n        }));\n        setErrorMessage('');\n      } catch (error) {\n        console.error('Error fetching budget details:', error);\n        setErrorMessage('Failed to load budget details.');\n        setBudgetStatus('pending'); // Or some default\n        setBudgetItems([]); //  set to empty array to avoid errors\n        setTotalBudget(0);\n      } finally {\n        setLoading(false); // Stop loading\n      }\n    };\n    fetchBudgetDetails();\n  }, [bookingId]);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setNewItem(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleAddItem = async event => {\n    event.preventDefault();\n    try {\n      const response = await axios.post(`/api/budget/${bookingId}/items`, newItem);\n      setBudgetItems([...budgetItems, response.data.item]);\n      setNewItem({\n        item_category: 'Logistics',\n        item_name: '',\n        quantity: 1,\n        unit_price: 0,\n        event_name: newItem.event_name\n      });\n      setErrorMessage('');\n    } catch (error) {\n      console.error('Error adding item:', error);\n      setErrorMessage('Failed to add budget item.');\n    }\n  };\n  const handleDeleteItem = async itemId => {\n    if (window.confirm('Are you sure you want to delete this item?')) {\n      try {\n        await axios.delete(`/api/budget/items/${itemId}`);\n        setBudgetItems(budgetItems.filter(item => item._id !== itemId));\n        setErrorMessage('');\n      } catch (error) {\n        console.error('Error deleting item:', error);\n        setErrorMessage('Failed to delete budget item.');\n      }\n    }\n  };\n  const handleEditItem = item => {\n    setEditingItem({\n      ...item\n    });\n  };\n  const handleEditInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setEditingItem(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleUpdateItem = async event => {\n    event.preventDefault();\n    try {\n      const response = await axios.put(`/api/budget/items/${editingItem._id}`, {\n        quantity: parseInt(editingItem.quantity),\n        unit_price: parseFloat(editingItem.unit_price)\n      });\n      setBudgetItems(budgetItems.map(item => item._id === response.data.item._id ? response.data.item : item));\n      setEditingItem(null);\n      setErrorMessage('');\n    } catch (error) {\n      console.error('Error updating item:', error);\n      setErrorMessage('Failed to update budget item.');\n    }\n  };\n  const handleConfirmBudget = async () => {\n    try {\n      const response = await axios.post(`/api/budget/${bookingId}/confirm`, {\n        club_name: clubName\n      });\n      setBudgetStatus('hold');\n      setTotalBudget(response.data.totalBudget);\n      setErrorMessage('');\n    } catch (error) {\n      console.error('Error confirming budget:', error);\n      setErrorMessage('Failed to confirm budget.');\n    }\n  };\n  const calculateTotalBudget = () => {\n    return budgetItems.reduce((sum, item) => sum + item.quantity * item.unit_price, 0);\n  };\n  useEffect(() => {\n    setTotalBudget(calculateTotalBudget());\n  }, [budgetItems]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading budget details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 16\n    }, this); // Simple loading indicator\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"budget-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(-1),\n      className: \"back-button\",\n      children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), \" Back\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Budget for Booking ID: \", bookingId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Budget Status: \", budgetStatus]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), budgetStatus === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-item-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Add Budget Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAddItem,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"item_category\",\n          children: \"Category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"item_category\",\n          id: \"item_category\",\n          value: newItem.item_category,\n          onChange: handleInputChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Logistics\",\n            children: \"Logistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Guest Food\",\n            children: \"Guest Food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Visitor Food\",\n            children: \"Visitor Food\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Transport Cost\",\n            children: \"Transport Cost\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Miscellaneous\",\n            children: \"Miscellaneous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"item_name\",\n          children: \"Item Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"item_name\",\n          id: \"item_name\",\n          value: newItem.item_name,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"quantity\",\n          children: \"Quantity:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"quantity\",\n          id: \"quantity\",\n          value: newItem.quantity,\n          onChange: handleInputChange,\n          required: true,\n          min: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"unit_price\",\n          children: \"Unit Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.01\",\n          name: \"unit_price\",\n          id: \"unit_price\",\n          value: newItem.unit_price,\n          onChange: handleInputChange,\n          required: true,\n          min: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: [/*#__PURE__*/_jsxDEV(FaPlusCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 47\n          }, this), \" Add Item\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Budget Items\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this), budgetItems && budgetItems.length === 0 ?\n    /*#__PURE__*/\n    // added check\n    _jsxDEV(\"p\", {\n      children: \"No budget items added yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"budget-items-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Item Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Unit Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Total Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 29\n          }, this), budgetStatus === 'pending' && /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: budgetItems && budgetItems.map(item =>\n        /*#__PURE__*/\n        // added check\n        _jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.item_category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.item_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.unit_price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: (item.quantity * item.unit_price).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 33\n          }, this), budgetStatus === 'pending' && /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"edit-button\",\n              onClick: () => handleEditItem(item),\n              children: [/*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 45\n              }, this), \" Edit\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-button\",\n              onClick: () => handleDeleteItem(item._id),\n              children: [/*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 45\n              }, this), \" Delete\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 37\n          }, this)]\n        }, item._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Total Budget: $\", totalBudget.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this), budgetStatus === 'pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleConfirmBudget,\n      className: \"confirm-button\",\n      children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }, this), \" Confirm Budget\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }, this), editingItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close-button\",\n          onClick: () => setEditingItem(null),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Edit Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdateItem,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `edit_quantity_${editingItem._id}`,\n            children: \"Quantity:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"quantity\",\n            id: `edit_quantity_${editingItem._id}`,\n            value: editingItem.quantity,\n            onChange: handleEditInputChange,\n            required: true,\n            min: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `edit_unit_price_${editingItem._id}`,\n            children: \"Unit Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            name: \"unit_price\",\n            id: `edit_unit_price_${editingItem._id}`,\n            value: editingItem.unit_price,\n            onChange: handleEditInputChange,\n            required: true,\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 51\n            }, this), \" Update Item\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n};\n_s(BudgetPage, \"IVgIdE88ZStevFIx1HbUTZJIb14=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BudgetPage;\nexport default BudgetPage;\nvar _c;\n$RefreshReg$(_c, \"BudgetPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","FaTrash","FaEdit","FaPlusCircle","FaCheckCircle","FaArrowLeft","jsxDEV","_jsxDEV","BudgetPage","_s","bookingId","navigate","budgetStatus","setBudgetStatus","budgetItems","setBudgetItems","newItem","setNewItem","item_category","item_name","quantity","unit_price","event_name","editingItem","setEditingItem","totalBudget","setTotalBudget","clubName","setClubName","errorMessage","setErrorMessage","loading","setLoading","fetchBudgetDetails","response","get","data","_response$data$budget","budget","total_budget","storedClubName","localStorage","getItem","storedEventName","prev","error","console","handleInputChange","event","name","value","target","handleAddItem","preventDefault","post","item","handleDeleteItem","itemId","window","confirm","delete","filter","_id","handleEditItem","handleEditInputChange","handleUpdateItem","put","parseInt","parseFloat","map","handleConfirmBudget","club_name","calculateTotalBudget","reduce","sum","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","onSubmit","htmlFor","id","onChange","required","type","min","step","length","toFixed","_c","$RefreshReg$"],"sources":["E:/ClubSync/frontend/src/pages/BudgetPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { FaTrash, FaEdit, FaPlusCircle, FaCheckCircle, FaArrowLeft } from 'react-icons/fa';\r\nimport './BudgetPage.css';\r\n\r\nconst BudgetPage = () => {\r\n    const { bookingId } = useParams();\r\n    const navigate = useNavigate();\r\n    const [budgetStatus, setBudgetStatus] = useState('pending');\r\n    const [budgetItems, setBudgetItems] = useState([]);\r\n    const [newItem, setNewItem] = useState({\r\n        item_category: 'Logistics',\r\n        item_name: '',\r\n        quantity: 1,\r\n        unit_price: 0,\r\n        event_name: '',\r\n    });\r\n    const [editingItem, setEditingItem] = useState(null);\r\n    const [totalBudget, setTotalBudget] = useState(0);\r\n    const [clubName, setClubName] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [loading, setLoading] = useState(true); // Add a loading state\r\n\r\n    useEffect(() => {\r\n        const fetchBudgetDetails = async () => {\r\n            setLoading(true); // Start loading\r\n            try {\r\n                const response = await axios.get(`/api/budget/${bookingId}`);\r\n                if (response.data) { // Check if response.data exists\r\n                    setBudgetStatus(response.data.budgetStatus || 'pending'); // Default\r\n                    setBudgetItems(response.data.budgetItems || []);       // Default\r\n                    setTotalBudget(response.data.budget?.total_budget || 0); // Default\r\n                } else {\r\n                    setErrorMessage('No budget data found.');\r\n                    setBudgetStatus('pending');\r\n                    setBudgetItems([]);\r\n                    setTotalBudget(0);\r\n                }\r\n\r\n                const storedClubName = localStorage.getItem('clubName');\r\n                const storedEventName = localStorage.getItem('currentEventName');\r\n                setClubName(storedClubName || '');\r\n                setNewItem(prev => ({ ...prev, event_name: storedEventName || '' }));\r\n                setErrorMessage('');\r\n            } catch (error) {\r\n                console.error('Error fetching budget details:', error);\r\n                setErrorMessage('Failed to load budget details.');\r\n                setBudgetStatus('pending'); // Or some default\r\n                setBudgetItems([]);     //  set to empty array to avoid errors\r\n                setTotalBudget(0);\r\n            } finally {\r\n                setLoading(false); // Stop loading\r\n            }\r\n        };\r\n        fetchBudgetDetails();\r\n    }, [bookingId]);\r\n\r\n    const handleInputChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setNewItem(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleAddItem = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const response = await axios.post(`/api/budget/${bookingId}/items`, newItem);\r\n            setBudgetItems([...budgetItems, response.data.item]);\r\n            setNewItem({ item_category: 'Logistics', item_name: '', quantity: 1, unit_price: 0, event_name: newItem.event_name });\r\n            setErrorMessage('');\r\n        } catch (error) {\r\n            console.error('Error adding item:', error);\r\n            setErrorMessage('Failed to add budget item.');\r\n        }\r\n    };\r\n\r\n    const handleDeleteItem = async (itemId) => {\r\n        if (window.confirm('Are you sure you want to delete this item?')) {\r\n            try {\r\n                await axios.delete(`/api/budget/items/${itemId}`);\r\n                setBudgetItems(budgetItems.filter(item => item._id !== itemId));\r\n                setErrorMessage('');\r\n            } catch (error) {\r\n                console.error('Error deleting item:', error);\r\n                setErrorMessage('Failed to delete budget item.');\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleEditItem = (item) => {\r\n        setEditingItem({ ...item });\r\n    };\r\n\r\n    const handleEditInputChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setEditingItem(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleUpdateItem = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const response = await axios.put(`/api/budget/items/${editingItem._id}`, {\r\n                quantity: parseInt(editingItem.quantity),\r\n                unit_price: parseFloat(editingItem.unit_price),\r\n            });\r\n            setBudgetItems(budgetItems.map(item =>\r\n                item._id === response.data.item._id ? response.data.item : item\r\n            ));\r\n            setEditingItem(null);\r\n            setErrorMessage('');\r\n        } catch (error) {\r\n            console.error('Error updating item:', error);\r\n            setErrorMessage('Failed to update budget item.');\r\n        }\r\n    };\r\n\r\n    const handleConfirmBudget = async () => {\r\n        try {\r\n            const response = await axios.post(`/api/budget/${bookingId}/confirm`, { club_name: clubName });\r\n            setBudgetStatus('hold');\r\n            setTotalBudget(response.data.totalBudget);\r\n            setErrorMessage('');\r\n        } catch (error) {\r\n            console.error('Error confirming budget:', error);\r\n            setErrorMessage('Failed to confirm budget.');\r\n        }\r\n    };\r\n\r\n    const calculateTotalBudget = () => {\r\n        return budgetItems.reduce((sum, item) => sum + item.quantity * item.unit_price, 0);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setTotalBudget(calculateTotalBudget());\r\n    }, [budgetItems]);\r\n\r\n    if (loading) {\r\n        return <div>Loading budget details...</div>; // Simple loading indicator\r\n    }\r\n\r\n    return (\r\n        <div className=\"budget-page-container\">\r\n            <button onClick={() => navigate(-1)} className=\"back-button\">\r\n                <FaArrowLeft /> Back\r\n            </button>\r\n            <h2>Budget for Booking ID: {bookingId}</h2>\r\n            {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n            <p>Budget Status: {budgetStatus}</p>\r\n\r\n            {budgetStatus === 'pending' && (\r\n                <div className=\"add-item-form\">\r\n                    <h3>Add Budget Item</h3>\r\n                    <form onSubmit={handleAddItem}>\r\n                        <label htmlFor=\"item_category\">Category:</label>\r\n                        <select name=\"item_category\" id=\"item_category\" value={newItem.item_category} onChange={handleInputChange} required>\r\n                            <option value=\"Logistics\">Logistics</option>\r\n                            <option value=\"Guest Food\">Guest Food</option>\r\n                            <option value=\"Visitor Food\">Visitor Food</option>\r\n                            <option value=\"Transport Cost\">Transport Cost</option>\r\n                            <option value=\"Miscellaneous\">Miscellaneous</option>\r\n                        </select>\r\n\r\n                        <label htmlFor=\"item_name\">Item Name:</label>\r\n                        <input type=\"text\" name=\"item_name\" id=\"item_name\" value={newItem.item_name} onChange={handleInputChange} required />\r\n\r\n                        <label htmlFor=\"quantity\">Quantity:</label>\r\n                        <input type=\"number\" name=\"quantity\" id=\"quantity\" value={newItem.quantity} onChange={handleInputChange} required min=\"1\" />\r\n\r\n                        <label htmlFor=\"unit_price\">Unit Price:</label>\r\n                        <input type=\"number\" step=\"0.01\" name=\"unit_price\" id=\"unit_price\" value={newItem.unit_price} onChange={handleInputChange} required min=\"0\" />\r\n\r\n                        <button type=\"submit\"><FaPlusCircle /> Add Item</button>\r\n                    </form>\r\n                </div>\r\n            )}\r\n\r\n            <h3>Budget Items</h3>\r\n            {budgetItems && budgetItems.length === 0 ? (  // added check\r\n                <p>No budget items added yet.</p>\r\n            ) : (\r\n                <table className=\"budget-items-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Category</th>\r\n                            <th>Item Name</th>\r\n                            <th>Quantity</th>\r\n                            <th>Unit Price</th>\r\n                            <th>Total Price</th>\r\n                            {budgetStatus === 'pending' && <th>Actions</th>}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {budgetItems && budgetItems.map(item => ( // added check\r\n                            <tr key={item._id}>\r\n                                <td>{item.item_category}</td>\r\n                                <td>{item.item_name}</td>\r\n                                <td>{item.quantity}</td>\r\n                                <td>{item.unit_price}</td>\r\n                                <td>{(item.quantity * item.unit_price).toFixed(2)}</td>\r\n                                {budgetStatus === 'pending' && (\r\n                                    <td>\r\n                                        <button className=\"edit-button\" onClick={() => handleEditItem(item)}>\r\n                                            <FaEdit /> Edit\r\n                                        </button>\r\n                                        <button className=\"delete-button\" onClick={() => handleDeleteItem(item._id)}>\r\n                                            <FaTrash /> Delete\r\n                                        </button>\r\n                                    </td>\r\n                                )}\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n\r\n            <h3>Total Budget: ${totalBudget.toFixed(2)}</h3>\r\n\r\n            {budgetStatus === 'pending' && (\r\n                <button onClick={handleConfirmBudget} className=\"confirm-button\">\r\n                    <FaCheckCircle /> Confirm Budget\r\n                </button>\r\n            )}\r\n\r\n            {editingItem && (\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <span className=\"close-button\" onClick={() => setEditingItem(null)}>&times;</span>\r\n                        <h3>Edit Item</h3>\r\n                        <form onSubmit={handleUpdateItem}>\r\n                            <label htmlFor={`edit_quantity_${editingItem._id}`}>Quantity:</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"quantity\"\r\n                                id={`edit_quantity_${editingItem._id}`}\r\n                                value={editingItem.quantity}\r\n                                onChange={handleEditInputChange}\r\n                                required\r\n                                min=\"1\"\r\n                            />\r\n\r\n                            <label htmlFor={`edit_unit_price_${editingItem._id}`}>Unit Price:</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                step=\"0.01\"\r\n                                name=\"unit_price\"\r\n                                id={`edit_unit_price_${editingItem._id}`}\r\n                                value={editingItem.unit_price}\r\n                                onChange={handleEditInputChange}\r\n                                required\r\n                                min=\"0\"\r\n                            />\r\n                            <button type=\"submit\"><FaCheckCircle /> Update Item</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BudgetPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}