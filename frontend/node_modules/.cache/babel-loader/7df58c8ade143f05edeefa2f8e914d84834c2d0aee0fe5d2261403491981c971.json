{"ast":null,"code":"var _jsxFileName = \"E:\\\\ClubSync\\\\frontend\\\\src\\\\students\\\\JoinClubsPage.jsx\",\n  _s = $RefreshSig$();\n// src/students/JoinClubsPage.jsx\nimport React, { useState, useEffect } from 'react';\nimport './JoinClubsPage.css'; // Import the CSS file from the same directory\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:3001/api';\n\n// Helper to handle fetch responses (No change needed here)\nasync function handleResponse(response) {\n  const data = await response.json();\n  if (!response.ok) {\n    const error = new Error(data.message || 'Something went wrong');\n    error.status = response.status;\n    error.data = data;\n    throw error;\n  }\n  return data;\n}\n\n// Check if student is authenticated\nconst checkStudentAuth = async () => {\n  const response = await fetch(`${API_BASE_URL}/students/check-auth`, {\n    credentials: 'include' // <--- ADD THIS\n  });\n  const data = await response.json();\n  data.status = response.status;\n  return data;\n};\n\n// Fetch all currently recruiting clubs (Might or might not need auth, but safer to include if showing personalized status)\nconst fetchRecruitingClubs = async () => {\n  try {\n    console.log('Fetching recruiting clubs...');\n    const response = await fetch(`${API_BASE_URL}/recruitment/recruiting`, {\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error('Server response error:', errorText);\n      throw new Error(`Server returned ${response.status}: ${errorText}`);\n    }\n    const data = await response.json();\n    console.log('Received recruiting clubs data:', data);\n    return data;\n  } catch (err) {\n    console.error('Failed to fetch recruiting clubs:', err);\n    throw new Error(err.message.includes('Failed to fetch') ? 'Network error - could not connect to server' : err.message);\n  }\n};\n\n// Register student for a club recruitment\nconst registerForClub = async recruitmentId => {\n  const response = await fetch(`${API_BASE_URL}/students/register-club`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      recruitmentId\n    }),\n    credentials: 'include' // <--- ADD THIS\n  });\n  return handleResponse(response);\n};\n\n// Fetch pending interviews count for the logged-in student\nconst fetchPendingInterviewsCount = async () => {\n  const response = await fetch(`${API_BASE_URL}/students/pending-interviews`, {\n    credentials: 'include' // <--- ADD THIS\n  });\n  return handleResponse(response);\n};\n// --- End API Call Functions ---\n\nfunction JoinClubsPage() {\n  _s();\n  const [recruitingClubs, setRecruitingClubs] = useState([]);\n  const [filteredClubs, setFilteredClubs] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [pendingCount, setPendingCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [student, setStudent] = useState(null); // To store logged-in student info\n\n  // --- Authentication Check and Initial Data Fetch ---\n  useEffect(() => {\n    const initializePage = async () => {\n      try {\n        // Check Authentication\n        const authData = await checkStudentAuth();\n        if (!authData.isLoggedIn) {\n          console.log(\"Student not logged in, redirecting...\");\n          // Use window.location for a simple redirect, replace with React Router navigate if used\n          window.location.href = '/login'; // Adjust login page path\n          return; // Stop execution\n        }\n        setStudent(authData.student); // Store student info from session\n\n        // Fetch initial data only if authenticated\n        const clubsData = await fetchRecruitingClubs();\n        setRecruitingClubs(clubsData);\n        setFilteredClubs(clubsData); // Initially show all clubs\n\n        const pendingData = await fetchPendingInterviewsCount();\n        setPendingCount(pendingData.pendingCount);\n      } catch (err) {\n        console.error(\"Initialization Error:\", err);\n        if (err.status !== 401) {\n          // Avoid showing error if it's just an auth redirect\n          setError(\"Failed to load data. Please try again.\");\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    initializePage();\n  }, []); // Empty dependency array means this runs once on mount\n\n  // --- Handle Search Logic ---\n  useEffect(() => {\n    const query = searchTerm.toLowerCase();\n    const filtered = recruitingClubs.filter(club => {\n      // Search by club name or numeric club ID (cid)\n      const nameMatch = club.clubName && club.clubName.toLowerCase().includes(query);\n      // Convert cid to string for searching, handle null/undefined cid\n      const idMatch = club.cid != null && String(club.cid).includes(query);\n      return nameMatch || idMatch;\n    });\n    setFilteredClubs(filtered);\n  }, [searchTerm, recruitingClubs]); // Re-run filter when search term or clubs list changes\n\n  // --- Handle Registration ---\n  // Enhanced registration handler\n  const handleRegister = async recruitmentId => {\n    setError(null);\n    try {\n      console.log(`Registering for recruitment ${recruitmentId}...`);\n      const response = await fetch(`${API_BASE_URL}/students/register-club`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          recruitmentId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        console.error('Registration failed:', errorData);\n        throw new Error(errorData.message || 'Registration failed');\n      }\n      const result = await response.json();\n      console.log('Registration successful:', result);\n      setRecruitingClubs(prev => prev.map(rec => {\n        if (rec._id === recruitmentId && student !== null && student !== void 0 && student.uid) {\n          const uidNum = Number(student.uid);\n          if (!rec.pending_std.includes(uidNum)) {\n            return {\n              ...rec,\n              pending_std: [...rec.pending_std, uidNum]\n            };\n          }\n        }\n        return rec;\n      }));\n      setPendingCount(result.pendingCount);\n\n      // Show success message\n      alert(result.message || 'Application submitted successfully!');\n    } catch (err) {\n      console.error('Registration error:', err);\n      setError(err.message);\n      alert(`Error: ${err.message}`);\n    }\n  };\n\n  // --- Render UI ---\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Join Clubs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loading-message\",\n        children: \"Loading recruiting clubs...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 14\n    }, this);\n  }\n\n  // Only show a global error message if there's an error AND not loading\n  if (error && !loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Join Clubs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Join Clubs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pending-interviews\",\n        children: [\"Pending Applications: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"pending-count\",\n          children: pendingCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"search-input\",\n          placeholder: \"Search by Club Name or ID\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"clubs-grid\",\n      className: \"clubs-grid\",\n      children: filteredClubs.length > 0 ? filteredClubs.map(club => {\n        const studentUidNumber = Number(student === null || student === void 0 ? void 0 : student.uid); // Get student UID safely\n\n        // Determine button/status state for *this* club card\n        const isApproved = student && club.approved_std.includes(studentUidNumber);\n        const isRejected = student && club.rejected_std.includes(studentUidNumber);\n        const isPending = student && club.pending_std.includes(studentUidNumber);\n        let buttonContent;\n        let buttonDisabled = false;\n        let statusMessage = null; // To display messages like Approved/Rejected\n\n        if (isApproved) {\n          statusMessage = 'Approved';\n          buttonDisabled = true;\n        } else if (isRejected) {\n          statusMessage = 'Rejected';\n          buttonDisabled = true;\n        } else if (isPending) {\n          buttonContent = 'Already Applied';\n          buttonDisabled = true;\n        } else {\n          buttonContent = 'Register';\n          buttonDisabled = false;\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"club-card\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [club.clubName, \" (\", club.cid || 'N/A', \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Semester: \", club.semester]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: club.description || 'No description provided.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-action-area\",\n            children: [\" \", statusMessage ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-message status-${statusMessage.toLowerCase()}`,\n              children: statusMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"register-button\",\n              onClick: () => handleRegister(club._id) // Call handler with recruitment ID\n              ,\n              disabled: buttonDisabled,\n              children: buttonContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 33\n          }, this)]\n        }, club._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 29\n        }, this);\n      }) :\n      // Show message if no clubs found or no results after search\n      recruitingClubs.length > 0 && searchTerm !== '' ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-clubs-message\",\n        children: \"No clubs match your search.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-clubs-message\",\n        children: \"No clubs are currently recruiting.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 9\n  }, this);\n}\n_s(JoinClubsPage, \"bea/pLvMkwyuqSWgXZ3/AW7QD7k=\");\n_c = JoinClubsPage;\nexport default JoinClubsPage;\nvar _c;\n$RefreshReg$(_c, \"JoinClubsPage\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","API_BASE_URL","handleResponse","response","data","json","ok","error","Error","message","status","checkStudentAuth","fetch","credentials","fetchRecruitingClubs","console","log","headers","errorText","text","err","includes","registerForClub","recruitmentId","method","body","JSON","stringify","fetchPendingInterviewsCount","JoinClubsPage","_s","recruitingClubs","setRecruitingClubs","filteredClubs","setFilteredClubs","searchTerm","setSearchTerm","pendingCount","setPendingCount","loading","setLoading","setError","student","setStudent","initializePage","authData","isLoggedIn","window","location","href","clubsData","pendingData","query","toLowerCase","filtered","filter","club","nameMatch","clubName","idMatch","cid","String","handleRegister","errorData","result","prev","map","rec","_id","uid","uidNum","Number","pending_std","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","type","placeholder","value","onChange","e","target","length","studentUidNumber","isApproved","approved_std","isRejected","rejected_std","isPending","buttonContent","buttonDisabled","statusMessage","semester","description","onClick","disabled","_c","$RefreshReg$"],"sources":["E:/ClubSync/frontend/src/students/JoinClubsPage.jsx"],"sourcesContent":["// src/students/JoinClubsPage.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport './JoinClubsPage.css'; // Import the CSS file from the same directory\r\n\r\nconst API_BASE_URL = 'http://localhost:3001/api';\r\n\r\n// Helper to handle fetch responses (No change needed here)\r\nasync function handleResponse(response) {\r\n    const data = await response.json();\r\n    if (!response.ok) {\r\n        const error = new Error(data.message || 'Something went wrong');\r\n        error.status = response.status;\r\n        error.data = data;\r\n        throw error;\r\n    }\r\n    return data;\r\n}\r\n\r\n// Check if student is authenticated\r\nconst checkStudentAuth = async () => {\r\n    const response = await fetch(`${API_BASE_URL}/students/check-auth`, {\r\n        credentials: 'include' // <--- ADD THIS\r\n    });\r\n    const data = await response.json();\r\n    data.status = response.status;\r\n    return data;\r\n};\r\n\r\n// Fetch all currently recruiting clubs (Might or might not need auth, but safer to include if showing personalized status)\r\nconst fetchRecruitingClubs = async () => {\r\ntry {\r\n    console.log('Fetching recruiting clubs...');\r\n    const response = await fetch(`${API_BASE_URL}/recruitment/recruiting`, {\r\n    credentials: 'include',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n    });\r\n\r\n    if (!response.ok) {\r\n    const errorText = await response.text();\r\n    console.error('Server response error:', errorText);\r\n    throw new Error(`Server returned ${response.status}: ${errorText}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    console.log('Received recruiting clubs data:', data);\r\n    return data;\r\n\r\n} catch (err) {\r\n    console.error('Failed to fetch recruiting clubs:', err);\r\n    throw new Error(\r\n    err.message.includes('Failed to fetch') \r\n        ? 'Network error - could not connect to server'\r\n        : err.message\r\n    );\r\n}\r\n};\r\n\r\n// Register student for a club recruitment\r\nconst registerForClub = async (recruitmentId) => {\r\n    const response = await fetch(`${API_BASE_URL}/students/register-club`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ recruitmentId }),\r\n        credentials: 'include' // <--- ADD THIS\r\n    });\r\n    return handleResponse(response);\r\n};\r\n\r\n// Fetch pending interviews count for the logged-in student\r\nconst fetchPendingInterviewsCount = async () => {\r\n    const response = await fetch(`${API_BASE_URL}/students/pending-interviews`, {\r\n        credentials: 'include' // <--- ADD THIS\r\n    });\r\n    return handleResponse(response);\r\n};\r\n// --- End API Call Functions ---\r\n\r\n\r\nfunction JoinClubsPage() {\r\n    const [recruitingClubs, setRecruitingClubs] = useState([]);\r\n    const [filteredClubs, setFilteredClubs] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [pendingCount, setPendingCount] = useState(0);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [student, setStudent] = useState(null); // To store logged-in student info\r\n\r\n    // --- Authentication Check and Initial Data Fetch ---\r\n    useEffect(() => {\r\n        const initializePage = async () => {\r\n            try {\r\n                // Check Authentication\r\n                const authData = await checkStudentAuth();\r\n                 if (!authData.isLoggedIn) {\r\n                    console.log(\"Student not logged in, redirecting...\");\r\n                    // Use window.location for a simple redirect, replace with React Router navigate if used\r\n                    window.location.href = '/login'; // Adjust login page path\r\n                    return; // Stop execution\r\n                }\r\n                setStudent(authData.student); // Store student info from session\r\n\r\n                // Fetch initial data only if authenticated\r\n                const clubsData = await fetchRecruitingClubs();\r\n                setRecruitingClubs(clubsData);\r\n                setFilteredClubs(clubsData); // Initially show all clubs\r\n\r\n                const pendingData = await fetchPendingInterviewsCount();\r\n                setPendingCount(pendingData.pendingCount);\r\n\r\n            } catch (err) {\r\n                console.error(\"Initialization Error:\", err);\r\n                 if (err.status !== 401) { // Avoid showing error if it's just an auth redirect\r\n                     setError(\"Failed to load data. Please try again.\");\r\n                 }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        initializePage();\r\n    }, []); // Empty dependency array means this runs once on mount\r\n\r\n    // --- Handle Search Logic ---\r\n    useEffect(() => {\r\n        const query = searchTerm.toLowerCase();\r\n        const filtered = recruitingClubs.filter(club => {\r\n            // Search by club name or numeric club ID (cid)\r\n            const nameMatch = club.clubName && club.clubName.toLowerCase().includes(query);\r\n            // Convert cid to string for searching, handle null/undefined cid\r\n            const idMatch = club.cid != null && String(club.cid).includes(query);\r\n            return nameMatch || idMatch;\r\n        });\r\n        setFilteredClubs(filtered);\r\n    }, [searchTerm, recruitingClubs]); // Re-run filter when search term or clubs list changes\r\n\r\n\r\n    // --- Handle Registration ---\r\n    // Enhanced registration handler\r\nconst handleRegister = async (recruitmentId) => {\r\n    setError(null);\r\n    \r\n    try {\r\n      console.log(`Registering for recruitment ${recruitmentId}...`);\r\n      const response = await fetch(`${API_BASE_URL}/students/register-club`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ recruitmentId }),\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        console.error('Registration failed:', errorData);\r\n        throw new Error(errorData.message || 'Registration failed');\r\n      }\r\n  \r\n      const result = await response.json();\r\n      console.log('Registration successful:', result);\r\n\r\n      setRecruitingClubs(prev => \r\n        prev.map(rec => {\r\n          if (rec._id === recruitmentId && student?.uid) {\r\n            const uidNum = Number(student.uid);\r\n            if (!rec.pending_std.includes(uidNum)) {\r\n              return {\r\n                ...rec,\r\n                pending_std: [...rec.pending_std, uidNum]\r\n              };\r\n            }\r\n          }\r\n          return rec;\r\n        })\r\n      );\r\n      \r\n      setPendingCount(result.pendingCount);\r\n      \r\n      // Show success message\r\n      alert(result.message || 'Application submitted successfully!');\r\n  \r\n    } catch (err) {\r\n      console.error('Registration error:', err);\r\n      setError(err.message);\r\n      alert(`Error: ${err.message}`);\r\n    }\r\n  };\r\n\r\n\r\n    // --- Render UI ---\r\n    if (loading) {\r\n        return (\r\n             <div className=\"container\">\r\n                 <h1>Join Clubs</h1>\r\n                 <p className=\"loading-message\">Loading recruiting clubs...</p>\r\n             </div>\r\n        );\r\n    }\r\n\r\n    // Only show a global error message if there's an error AND not loading\r\n    if (error && !loading) {\r\n        return (\r\n            <div className=\"container\">\r\n                 <h1>Join Clubs</h1>\r\n                 <p className=\"error-message\">{error}</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>Join Clubs</h1>\r\n\r\n            <div className=\"info-bar\">\r\n                <div className=\"pending-interviews\">\r\n                    Pending Applications: <span id=\"pending-count\">{pendingCount}</span>\r\n                </div>\r\n                <div className=\"search-bar\">\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"search-input\"\r\n                        placeholder=\"Search by Club Name or ID\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                    />\r\n                     {/* Search button is optional if filtering happens on input change */}\r\n                     {/* <button id=\"search-button\" onClick={() => setSearchTerm(searchTerm)}>Search</button> */}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Although we have a global error state, you could still display errors here */}\r\n            {/* {error && <div className=\"error-message\">{error}</div>} */}\r\n\r\n\r\n            <div id=\"clubs-grid\" className=\"clubs-grid\">\r\n                 {/* Render Club Cards directly within the map */}\r\n                {filteredClubs.length > 0 ? (\r\n                     filteredClubs.map(club => {\r\n                         const studentUidNumber = Number(student?.uid); // Get student UID safely\r\n\r\n                         // Determine button/status state for *this* club card\r\n                         const isApproved = student && club.approved_std.includes(studentUidNumber);\r\n                         const isRejected = student && club.rejected_std.includes(studentUidNumber);\r\n                         const isPending = student && club.pending_std.includes(studentUidNumber);\r\n\r\n                         let buttonContent;\r\n                         let buttonDisabled = false;\r\n                         let statusMessage = null; // To display messages like Approved/Rejected\r\n\r\n                         if (isApproved) {\r\n                             statusMessage = 'Approved';\r\n                             buttonDisabled = true;\r\n                         } else if (isRejected) {\r\n                             statusMessage = 'Rejected';\r\n                             buttonDisabled = true;\r\n                         } else if (isPending) {\r\n                              buttonContent = 'Already Applied';\r\n                              buttonDisabled = true;\r\n                         } else {\r\n                             buttonContent = 'Register';\r\n                             buttonDisabled = false;\r\n                         }\r\n\r\n                         return (\r\n                            <div key={club._id} className=\"club-card\"> {/* Use recruitment ID as key */}\r\n                                <h3>{club.clubName} ({club.cid || 'N/A'})</h3>\r\n                                <p>Semester: {club.semester}</p>\r\n                                <p>{club.description || 'No description provided.'}</p>\r\n                                <div className=\"card-action-area\"> {/* Flex container for button/message */}\r\n                                    {statusMessage ? (\r\n                                        <span className={`status-message status-${statusMessage.toLowerCase()}`}>{statusMessage}</span>\r\n                                    ) : (\r\n                                        <button\r\n                                            className=\"register-button\"\r\n                                            onClick={() => handleRegister(club._id)} // Call handler with recruitment ID\r\n                                            disabled={buttonDisabled}\r\n                                        >\r\n                                            {buttonContent}\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                         );\r\n                     })\r\n                ) : (\r\n                     // Show message if no clubs found or no results after search\r\n                    recruitingClubs.length > 0 && searchTerm !== '' ? (\r\n                        <p className=\"no-clubs-message\">No clubs match your search.</p>\r\n                    ) : (\r\n                        <p className=\"no-clubs-message\">No clubs are currently recruiting.</p>\r\n                    )\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default JoinClubsPage;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,qBAAqB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,YAAY,GAAG,2BAA2B;;AAEhD;AACA,eAAeC,cAAcA,CAACC,QAAQ,EAAE;EACpC,MAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAI,CAAC,CAAC;EAClC,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE;IACd,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAACJ,IAAI,CAACK,OAAO,IAAI,sBAAsB,CAAC;IAC/DF,KAAK,CAACG,MAAM,GAAGP,QAAQ,CAACO,MAAM;IAC9BH,KAAK,CAACH,IAAI,GAAGA,IAAI;IACjB,MAAMG,KAAK;EACf;EACA,OAAOH,IAAI;AACf;;AAEA;AACA,MAAMO,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EACjC,MAAMR,QAAQ,GAAG,MAAMS,KAAK,CAAC,GAAGX,YAAY,sBAAsB,EAAE;IAChEY,WAAW,EAAE,SAAS,CAAC;EAC3B,CAAC,CAAC;EACF,MAAMT,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAI,CAAC,CAAC;EAClCD,IAAI,CAACM,MAAM,GAAGP,QAAQ,CAACO,MAAM;EAC7B,OAAON,IAAI;AACf,CAAC;;AAED;AACA,MAAMU,oBAAoB,GAAG,MAAAA,CAAA,KAAY;EACzC,IAAI;IACAC,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC3C,MAAMb,QAAQ,GAAG,MAAMS,KAAK,CAAC,GAAGX,YAAY,yBAAyB,EAAE;MACvEY,WAAW,EAAE,SAAS;MACtBI,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACA,CAAC,CAAC;IAEF,IAAI,CAACd,QAAQ,CAACG,EAAE,EAAE;MAClB,MAAMY,SAAS,GAAG,MAAMf,QAAQ,CAACgB,IAAI,CAAC,CAAC;MACvCJ,OAAO,CAACR,KAAK,CAAC,wBAAwB,EAAEW,SAAS,CAAC;MAClD,MAAM,IAAIV,KAAK,CAAC,mBAAmBL,QAAQ,CAACO,MAAM,KAAKQ,SAAS,EAAE,CAAC;IACnE;IAEA,MAAMd,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAI,CAAC,CAAC;IAClCU,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEZ,IAAI,CAAC;IACpD,OAAOA,IAAI;EAEf,CAAC,CAAC,OAAOgB,GAAG,EAAE;IACVL,OAAO,CAACR,KAAK,CAAC,mCAAmC,EAAEa,GAAG,CAAC;IACvD,MAAM,IAAIZ,KAAK,CACfY,GAAG,CAACX,OAAO,CAACY,QAAQ,CAAC,iBAAiB,CAAC,GACjC,6CAA6C,GAC7CD,GAAG,CAACX,OACV,CAAC;EACL;AACA,CAAC;;AAED;AACA,MAAMa,eAAe,GAAG,MAAOC,aAAa,IAAK;EAC7C,MAAMpB,QAAQ,GAAG,MAAMS,KAAK,CAAC,GAAGX,YAAY,yBAAyB,EAAE;IACnEuB,MAAM,EAAE,MAAM;IACdP,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDQ,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEJ;IAAc,CAAC,CAAC;IACvCV,WAAW,EAAE,SAAS,CAAC;EAC3B,CAAC,CAAC;EACF,OAAOX,cAAc,CAACC,QAAQ,CAAC;AACnC,CAAC;;AAED;AACA,MAAMyB,2BAA2B,GAAG,MAAAA,CAAA,KAAY;EAC5C,MAAMzB,QAAQ,GAAG,MAAMS,KAAK,CAAC,GAAGX,YAAY,8BAA8B,EAAE;IACxEY,WAAW,EAAE,SAAS,CAAC;EAC3B,CAAC,CAAC;EACF,OAAOX,cAAc,CAACC,QAAQ,CAAC;AACnC,CAAC;AACD;;AAGA,SAAS0B,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACoC,aAAa,EAAEC,gBAAgB,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACsC,UAAU,EAAEC,aAAa,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACwC,YAAY,EAAEC,eAAe,CAAC,GAAGzC,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAAC0C,OAAO,EAAEC,UAAU,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEkC,QAAQ,CAAC,GAAG5C,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC6C,OAAO,EAAEC,UAAU,CAAC,GAAG9C,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE9C;EACAC,SAAS,CAAC,MAAM;IACZ,MAAM8C,cAAc,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACA;QACA,MAAMC,QAAQ,GAAG,MAAMlC,gBAAgB,CAAC,CAAC;QACxC,IAAI,CAACkC,QAAQ,CAACC,UAAU,EAAE;UACvB/B,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;UACpD;UACA+B,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ,CAAC,CAAC;UACjC,OAAO,CAAC;QACZ;QACAN,UAAU,CAACE,QAAQ,CAACH,OAAO,CAAC,CAAC,CAAC;;QAE9B;QACA,MAAMQ,SAAS,GAAG,MAAMpC,oBAAoB,CAAC,CAAC;QAC9CkB,kBAAkB,CAACkB,SAAS,CAAC;QAC7BhB,gBAAgB,CAACgB,SAAS,CAAC,CAAC,CAAC;;QAE7B,MAAMC,WAAW,GAAG,MAAMvB,2BAA2B,CAAC,CAAC;QACvDU,eAAe,CAACa,WAAW,CAACd,YAAY,CAAC;MAE7C,CAAC,CAAC,OAAOjB,GAAG,EAAE;QACVL,OAAO,CAACR,KAAK,CAAC,uBAAuB,EAAEa,GAAG,CAAC;QAC1C,IAAIA,GAAG,CAACV,MAAM,KAAK,GAAG,EAAE;UAAE;UACtB+B,QAAQ,CAAC,wCAAwC,CAAC;QACtD;MACL,CAAC,SAAS;QACND,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDI,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER;EACA9C,SAAS,CAAC,MAAM;IACZ,MAAMsD,KAAK,GAAGjB,UAAU,CAACkB,WAAW,CAAC,CAAC;IACtC,MAAMC,QAAQ,GAAGvB,eAAe,CAACwB,MAAM,CAACC,IAAI,IAAI;MAC5C;MACA,MAAMC,SAAS,GAAGD,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACE,QAAQ,CAACL,WAAW,CAAC,CAAC,CAAChC,QAAQ,CAAC+B,KAAK,CAAC;MAC9E;MACA,MAAMO,OAAO,GAAGH,IAAI,CAACI,GAAG,IAAI,IAAI,IAAIC,MAAM,CAACL,IAAI,CAACI,GAAG,CAAC,CAACvC,QAAQ,CAAC+B,KAAK,CAAC;MACpE,OAAOK,SAAS,IAAIE,OAAO;IAC/B,CAAC,CAAC;IACFzB,gBAAgB,CAACoB,QAAQ,CAAC;EAC9B,CAAC,EAAE,CAACnB,UAAU,EAAEJ,eAAe,CAAC,CAAC,CAAC,CAAC;;EAGnC;EACA;EACJ,MAAM+B,cAAc,GAAG,MAAOvC,aAAa,IAAK;IAC5CkB,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF1B,OAAO,CAACC,GAAG,CAAC,+BAA+BO,aAAa,KAAK,CAAC;MAC9D,MAAMpB,QAAQ,GAAG,MAAMS,KAAK,CAAC,GAAGX,YAAY,yBAAyB,EAAE;QACrEuB,MAAM,EAAE,MAAM;QACdX,WAAW,EAAE,SAAS;QACtBI,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDQ,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEJ;QAAc,CAAC;MACxC,CAAC,CAAC;MAEF,IAAI,CAACpB,QAAQ,CAACG,EAAE,EAAE;QAChB,MAAMyD,SAAS,GAAG,MAAM5D,QAAQ,CAACE,IAAI,CAAC,CAAC;QACvCU,OAAO,CAACR,KAAK,CAAC,sBAAsB,EAAEwD,SAAS,CAAC;QAChD,MAAM,IAAIvD,KAAK,CAACuD,SAAS,CAACtD,OAAO,IAAI,qBAAqB,CAAC;MAC7D;MAEA,MAAMuD,MAAM,GAAG,MAAM7D,QAAQ,CAACE,IAAI,CAAC,CAAC;MACpCU,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEgD,MAAM,CAAC;MAE/ChC,kBAAkB,CAACiC,IAAI,IACrBA,IAAI,CAACC,GAAG,CAACC,GAAG,IAAI;QACd,IAAIA,GAAG,CAACC,GAAG,KAAK7C,aAAa,IAAImB,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAE2B,GAAG,EAAE;UAC7C,MAAMC,MAAM,GAAGC,MAAM,CAAC7B,OAAO,CAAC2B,GAAG,CAAC;UAClC,IAAI,CAACF,GAAG,CAACK,WAAW,CAACnD,QAAQ,CAACiD,MAAM,CAAC,EAAE;YACrC,OAAO;cACL,GAAGH,GAAG;cACNK,WAAW,EAAE,CAAC,GAAGL,GAAG,CAACK,WAAW,EAAEF,MAAM;YAC1C,CAAC;UACH;QACF;QACA,OAAOH,GAAG;MACZ,CAAC,CACH,CAAC;MAED7B,eAAe,CAAC0B,MAAM,CAAC3B,YAAY,CAAC;;MAEpC;MACAoC,KAAK,CAACT,MAAM,CAACvD,OAAO,IAAI,qCAAqC,CAAC;IAEhE,CAAC,CAAC,OAAOW,GAAG,EAAE;MACZL,OAAO,CAACR,KAAK,CAAC,qBAAqB,EAAEa,GAAG,CAAC;MACzCqB,QAAQ,CAACrB,GAAG,CAACX,OAAO,CAAC;MACrBgE,KAAK,CAAC,UAAUrD,GAAG,CAACX,OAAO,EAAE,CAAC;IAChC;EACF,CAAC;;EAGC;EACA,IAAI8B,OAAO,EAAE;IACT,oBACKvC,OAAA;MAAK0E,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACtB3E,OAAA;QAAA2E,QAAA,EAAI;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnB/E,OAAA;QAAG0E,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAAC;MAA2B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7D,CAAC;EAEf;;EAEA;EACA,IAAIxE,KAAK,IAAI,CAACgC,OAAO,EAAE;IACnB,oBACIvC,OAAA;MAAK0E,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACrB3E,OAAA;QAAA2E,QAAA,EAAI;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnB/E,OAAA;QAAG0E,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAEpE;MAAK;QAAAqE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CAAC;EAEd;EAEA,oBACI/E,OAAA;IAAK0E,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACtB3E,OAAA;MAAA2E,QAAA,EAAI;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEnB/E,OAAA;MAAK0E,SAAS,EAAC,UAAU;MAAAC,QAAA,gBACrB3E,OAAA;QAAK0E,SAAS,EAAC,oBAAoB;QAAAC,QAAA,GAAC,wBACV,eAAA3E,OAAA;UAAMgF,EAAE,EAAC,eAAe;UAAAL,QAAA,EAAEtC;QAAY;UAAAuC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC,eACN/E,OAAA;QAAK0E,SAAS,EAAC,YAAY;QAAAC,QAAA,eACvB3E,OAAA;UACIiF,IAAI,EAAC,MAAM;UACXD,EAAE,EAAC,cAAc;UACjBE,WAAW,EAAC,2BAA2B;UACvCC,KAAK,EAAEhD,UAAW;UAClBiD,QAAQ,EAAGC,CAAC,IAAKjD,aAAa,CAACiD,CAAC,CAACC,MAAM,CAACH,KAAK;QAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAGD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAMN/E,OAAA;MAAKgF,EAAE,EAAC,YAAY;MAACN,SAAS,EAAC,YAAY;MAAAC,QAAA,EAEtC1C,aAAa,CAACsD,MAAM,GAAG,CAAC,GACpBtD,aAAa,CAACiC,GAAG,CAACV,IAAI,IAAI;QACtB,MAAMgC,gBAAgB,GAAGjB,MAAM,CAAC7B,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE2B,GAAG,CAAC,CAAC,CAAC;;QAE/C;QACA,MAAMoB,UAAU,GAAG/C,OAAO,IAAIc,IAAI,CAACkC,YAAY,CAACrE,QAAQ,CAACmE,gBAAgB,CAAC;QAC1E,MAAMG,UAAU,GAAGjD,OAAO,IAAIc,IAAI,CAACoC,YAAY,CAACvE,QAAQ,CAACmE,gBAAgB,CAAC;QAC1E,MAAMK,SAAS,GAAGnD,OAAO,IAAIc,IAAI,CAACgB,WAAW,CAACnD,QAAQ,CAACmE,gBAAgB,CAAC;QAExE,IAAIM,aAAa;QACjB,IAAIC,cAAc,GAAG,KAAK;QAC1B,IAAIC,aAAa,GAAG,IAAI,CAAC,CAAC;;QAE1B,IAAIP,UAAU,EAAE;UACZO,aAAa,GAAG,UAAU;UAC1BD,cAAc,GAAG,IAAI;QACzB,CAAC,MAAM,IAAIJ,UAAU,EAAE;UACnBK,aAAa,GAAG,UAAU;UAC1BD,cAAc,GAAG,IAAI;QACzB,CAAC,MAAM,IAAIF,SAAS,EAAE;UACjBC,aAAa,GAAG,iBAAiB;UACjCC,cAAc,GAAG,IAAI;QAC1B,CAAC,MAAM;UACHD,aAAa,GAAG,UAAU;UAC1BC,cAAc,GAAG,KAAK;QAC1B;QAEA,oBACG/F,OAAA;UAAoB0E,SAAS,EAAC,WAAW;UAAAC,QAAA,GAAC,GAAC,eACvC3E,OAAA;YAAA2E,QAAA,GAAKnB,IAAI,CAACE,QAAQ,EAAC,IAAE,EAACF,IAAI,CAACI,GAAG,IAAI,KAAK,EAAC,GAAC;UAAA;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9C/E,OAAA;YAAA2E,QAAA,GAAG,YAAU,EAACnB,IAAI,CAACyC,QAAQ;UAAA;YAAArB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChC/E,OAAA;YAAA2E,QAAA,EAAInB,IAAI,CAAC0C,WAAW,IAAI;UAA0B;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvD/E,OAAA;YAAK0E,SAAS,EAAC,kBAAkB;YAAAC,QAAA,GAAC,GAAC,EAC9BqB,aAAa,gBACVhG,OAAA;cAAM0E,SAAS,EAAE,yBAAyBsB,aAAa,CAAC3C,WAAW,CAAC,CAAC,EAAG;cAAAsB,QAAA,EAAEqB;YAAa;cAAApB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,gBAE/F/E,OAAA;cACI0E,SAAS,EAAC,iBAAiB;cAC3ByB,OAAO,EAAEA,CAAA,KAAMrC,cAAc,CAACN,IAAI,CAACY,GAAG,CAAE,CAAC;cAAA;cACzCgC,QAAQ,EAAEL,cAAe;cAAApB,QAAA,EAExBmB;YAAa;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV,CACX;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA,GAhBAvB,IAAI,CAACY,GAAG;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAiBb,CAAC;MAEb,CAAC,CAAC;MAEF;MACDhD,eAAe,CAACwD,MAAM,GAAG,CAAC,IAAIpD,UAAU,KAAK,EAAE,gBAC3CnC,OAAA;QAAG0E,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAA2B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAE/D/E,OAAA;QAAG0E,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAAkC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAE5E;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEL,CAAC;AAEd;AAACjD,EAAA,CA1NQD,aAAa;AAAAwE,EAAA,GAAbxE,aAAa;AA4NtB,eAAeA,aAAa;AAAC,IAAAwE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}