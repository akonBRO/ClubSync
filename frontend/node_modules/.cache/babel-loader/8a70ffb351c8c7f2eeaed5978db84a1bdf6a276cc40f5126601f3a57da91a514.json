{"ast":null,"code":"var _jsxFileName = \"E:\\\\ClubSync\\\\frontend\\\\src\\\\students\\\\JoinClubsPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/JoinClubsPage.jsx\nimport React, { useState, useEffect } from 'react';\n// Assuming api/studentApi.js is in your src directory\nimport { checkStudentAuth, fetchRecruitingClubs, registerForClub, fetchPendingInterviewsCount } from '../api/studentApi';\nimport './JoinClubsPage.css'; // Import the combined CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction JoinClubsPage() {\n  _s();\n  const [recruitingClubs, setRecruitingClubs] = useState([]);\n  const [filteredClubs, setFilteredClubs] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [pendingCount, setPendingCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [student, setStudent] = useState(null); // To store logged-in student info\n\n  // --- Authentication Check and Initial Data Fetch ---\n  useEffect(() => {\n    const initializePage = async () => {\n      try {\n        // Check Authentication\n        const authData = await checkStudentAuth();\n        if (!authData.isLoggedIn) {\n          console.log(\"Student not logged in, redirecting...\");\n          // Use window.location for a simple redirect, replace with React Router navigate if used\n          window.location.href = '/login'; // Adjust login page path\n          return; // Stop execution\n        }\n        setStudent(authData.student); // Store student info from session\n\n        // Fetch initial data only if authenticated\n        const clubsData = await fetchRecruitingClubs();\n        setRecruitingClubs(clubsData);\n        setFilteredClubs(clubsData); // Initially show all clubs\n\n        const pendingData = await fetchPendingInterviewsCount();\n        setPendingCount(pendingData.pendingCount);\n      } catch (err) {\n        console.error(\"Initialization Error:\", err);\n        if (err.status !== 401) {\n          // Avoid showing error if it's just an auth redirect\n          setError(\"Failed to load data. Please try again.\");\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    initializePage();\n  }, []); // Empty dependency array means this runs once on mount\n\n  // --- Handle Search Logic ---\n  useEffect(() => {\n    const query = searchTerm.toLowerCase();\n    const filtered = recruitingClubs.filter(club => {\n      // Search by club name or numeric club ID (cid)\n      const nameMatch = club.clubName && club.clubName.toLowerCase().includes(query);\n      // Convert cid to string for searching, handle null/undefined cid\n      const idMatch = club.cid != null && String(club.cid).includes(query);\n      return nameMatch || idMatch;\n    });\n    setFilteredClubs(filtered);\n  }, [searchTerm, recruitingClubs]); // Re-run filter when search term or clubs list changes\n\n  // --- Handle Registration ---\n  const handleRegister = async recruitmentId => {\n    // Find the club in the current filtered list to potentially update its button state immediately\n    // This is a basic approach; managing loading state per card is more complex.\n    // We'll just rely on the state update after the fetch for simplicity as requested.\n\n    setError(null); // Clear previous errors\n\n    try {\n      const result = await registerForClub(recruitmentId);\n      console.log(\"Registration result:\", result);\n\n      // Update pending count from the backend response\n      setPendingCount(result.pendingCount);\n\n      // Update the local state for recruitingClubs to reflect the student's new pending status\n      // This ensures the button changes to \"Already Applied\" without a full page reload.\n      setRecruitingClubs(prevClubs => prevClubs.map(club => {\n        // Check if this is the club that was registered for\n        if (club._id === recruitmentId && student && student.uid) {\n          const studentUidNumber = Number(student.uid);\n          // If the student's UID is not already in pending, add it\n          if (!club.pending_std.includes(studentUidNumber)) {\n            return {\n              ...club,\n              pending_std: [...club.pending_std, studentUidNumber] // Add student UID to pending list\n            };\n          }\n          // If student was already pending, return the club as is\n          return club;\n        }\n        return club; // Return unchanged club if not the one being updated\n      }));\n\n      // The useEffect for search will automatically re-filter filteredClubs based on the updated recruitingClubs state.\n    } catch (err) {\n      var _err$data;\n      console.error(\"Registration Error:\", err);\n      // Display a user-friendly error message from the backend or a generic one\n      setError(((_err$data = err.data) === null || _err$data === void 0 ? void 0 : _err$data.message) || err.message || \"An unexpected error occurred during registration.\");\n      // The button state will implicitly revert if the fetch failed before the state update\n      // but managing a specific 'isSubmitting' state per card would be more robust.\n    }\n  };\n\n  // --- Render UI ---\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Join Clubs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loading-message\",\n        children: \"Loading recruiting clubs...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 14\n    }, this);\n  }\n\n  // Only show a global error message if there's an error AND not loading\n  if (error && !loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Join Clubs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Join Clubs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pending-interviews\",\n        children: [\"Pending Applications: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"pending-count\",\n          children: pendingCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"search-input\",\n          placeholder: \"Search by Club Name or ID\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"clubs-grid\",\n      className: \"clubs-grid\",\n      children: filteredClubs.length > 0 ? filteredClubs.map(club => {\n        const studentUidNumber = Number(student === null || student === void 0 ? void 0 : student.uid); // Get student UID safely\n\n        // Determine button/status state for *this* club card\n        const isApproved = student && club.approved_std.includes(studentUidNumber);\n        const isRejected = student && club.rejected_std.includes(studentUidNumber);\n        const isPending = student && club.pending_std.includes(studentUidNumber);\n        let buttonContent;\n        let buttonDisabled = false;\n        let statusMessage = null; // To display messages like Approved/Rejected\n\n        if (isApproved) {\n          statusMessage = 'Approved';\n          buttonDisabled = true;\n        } else if (isRejected) {\n          statusMessage = 'Rejected';\n          buttonDisabled = true;\n        } else if (isPending) {\n          buttonContent = 'Already Applied';\n          buttonDisabled = true;\n        } else {\n          buttonContent = 'Register';\n          buttonDisabled = false;\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"club-card\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [club.clubName, \" (\", club.cid || 'N/A', \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Semester: \", club.semester]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: club.description || 'No description provided.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-action-area\",\n            children: [\" \", statusMessage ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-message status-${statusMessage.toLowerCase()}`,\n              children: statusMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"register-button\",\n              onClick: () => handleRegister(club._id) // Call handler with recruitment ID\n              ,\n              disabled: buttonDisabled,\n              children: buttonContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 33\n          }, this)]\n        }, club._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }, this);\n      }) :\n      // Show message if no clubs found or no results after search\n      recruitingClubs.length > 0 && searchTerm !== '' ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-clubs-message\",\n        children: \"No clubs match your search.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-clubs-message\",\n        children: \"No clubs are currently recruiting.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n}\n_s(JoinClubsPage, \"bea/pLvMkwyuqSWgXZ3/AW7QD7k=\");\n_c = JoinClubsPage;\nexport default JoinClubsPage;\nvar _c;\n$RefreshReg$(_c, \"JoinClubsPage\");","map":{"version":3,"names":["React","useState","useEffect","checkStudentAuth","fetchRecruitingClubs","registerForClub","fetchPendingInterviewsCount","jsxDEV","_jsxDEV","JoinClubsPage","_s","recruitingClubs","setRecruitingClubs","filteredClubs","setFilteredClubs","searchTerm","setSearchTerm","pendingCount","setPendingCount","loading","setLoading","error","setError","student","setStudent","initializePage","authData","isLoggedIn","console","log","window","location","href","clubsData","pendingData","err","status","query","toLowerCase","filtered","filter","club","nameMatch","clubName","includes","idMatch","cid","String","handleRegister","recruitmentId","result","prevClubs","map","_id","uid","studentUidNumber","Number","pending_std","_err$data","data","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","type","placeholder","value","onChange","e","target","length","isApproved","approved_std","isRejected","rejected_std","isPending","buttonContent","buttonDisabled","statusMessage","semester","description","onClick","disabled","_c","$RefreshReg$"],"sources":["E:/ClubSync/frontend/src/students/JoinClubsPage.jsx"],"sourcesContent":["// src/pages/JoinClubsPage.jsx\r\nimport React, { useState, useEffect } from 'react';\r\n// Assuming api/studentApi.js is in your src directory\r\nimport {\r\n    checkStudentAuth,\r\n    fetchRecruitingClubs,\r\n    registerForClub,\r\n    fetchPendingInterviewsCount\r\n} from '../api/studentApi';\r\nimport './JoinClubsPage.css'; // Import the combined CSS file\r\n\r\nfunction JoinClubsPage() {\r\n    const [recruitingClubs, setRecruitingClubs] = useState([]);\r\n    const [filteredClubs, setFilteredClubs] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [pendingCount, setPendingCount] = useState(0);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [student, setStudent] = useState(null); // To store logged-in student info\r\n\r\n    // --- Authentication Check and Initial Data Fetch ---\r\n    useEffect(() => {\r\n        const initializePage = async () => {\r\n            try {\r\n                // Check Authentication\r\n                const authData = await checkStudentAuth();\r\n                 if (!authData.isLoggedIn) {\r\n                    console.log(\"Student not logged in, redirecting...\");\r\n                    // Use window.location for a simple redirect, replace with React Router navigate if used\r\n                    window.location.href = '/login'; // Adjust login page path\r\n                    return; // Stop execution\r\n                }\r\n                setStudent(authData.student); // Store student info from session\r\n\r\n                // Fetch initial data only if authenticated\r\n                const clubsData = await fetchRecruitingClubs();\r\n                setRecruitingClubs(clubsData);\r\n                setFilteredClubs(clubsData); // Initially show all clubs\r\n\r\n                const pendingData = await fetchPendingInterviewsCount();\r\n                setPendingCount(pendingData.pendingCount);\r\n\r\n            } catch (err) {\r\n                console.error(\"Initialization Error:\", err);\r\n                 if (err.status !== 401) { // Avoid showing error if it's just an auth redirect\r\n                     setError(\"Failed to load data. Please try again.\");\r\n                 }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        initializePage();\r\n    }, []); // Empty dependency array means this runs once on mount\r\n\r\n    // --- Handle Search Logic ---\r\n    useEffect(() => {\r\n        const query = searchTerm.toLowerCase();\r\n        const filtered = recruitingClubs.filter(club => {\r\n            // Search by club name or numeric club ID (cid)\r\n            const nameMatch = club.clubName && club.clubName.toLowerCase().includes(query);\r\n            // Convert cid to string for searching, handle null/undefined cid\r\n            const idMatch = club.cid != null && String(club.cid).includes(query);\r\n            return nameMatch || idMatch;\r\n        });\r\n        setFilteredClubs(filtered);\r\n    }, [searchTerm, recruitingClubs]); // Re-run filter when search term or clubs list changes\r\n\r\n\r\n    // --- Handle Registration ---\r\n    const handleRegister = async (recruitmentId) => {\r\n        // Find the club in the current filtered list to potentially update its button state immediately\r\n        // This is a basic approach; managing loading state per card is more complex.\r\n        // We'll just rely on the state update after the fetch for simplicity as requested.\r\n\r\n        setError(null); // Clear previous errors\r\n\r\n        try {\r\n            const result = await registerForClub(recruitmentId);\r\n            console.log(\"Registration result:\", result);\r\n\r\n            // Update pending count from the backend response\r\n            setPendingCount(result.pendingCount);\r\n\r\n            // Update the local state for recruitingClubs to reflect the student's new pending status\r\n            // This ensures the button changes to \"Already Applied\" without a full page reload.\r\n            setRecruitingClubs(prevClubs =>\r\n                 prevClubs.map(club => {\r\n                     // Check if this is the club that was registered for\r\n                     if (club._id === recruitmentId && student && student.uid) {\r\n                         const studentUidNumber = Number(student.uid);\r\n                         // If the student's UID is not already in pending, add it\r\n                         if (!club.pending_std.includes(studentUidNumber)) {\r\n                            return {\r\n                                ...club,\r\n                                pending_std: [...club.pending_std, studentUidNumber] // Add student UID to pending list\r\n                            };\r\n                         }\r\n                          // If student was already pending, return the club as is\r\n                          return club;\r\n                     }\r\n                     return club; // Return unchanged club if not the one being updated\r\n                 })\r\n            );\r\n\r\n            // The useEffect for search will automatically re-filter filteredClubs based on the updated recruitingClubs state.\r\n\r\n\r\n        } catch (err) {\r\n            console.error(\"Registration Error:\", err);\r\n             // Display a user-friendly error message from the backend or a generic one\r\n            setError(err.data?.message || err.message || \"An unexpected error occurred during registration.\");\r\n            // The button state will implicitly revert if the fetch failed before the state update\r\n            // but managing a specific 'isSubmitting' state per card would be more robust.\r\n        }\r\n    };\r\n\r\n\r\n    // --- Render UI ---\r\n    if (loading) {\r\n        return (\r\n             <div className=\"container\">\r\n                 <h1>Join Clubs</h1>\r\n                 <p className=\"loading-message\">Loading recruiting clubs...</p>\r\n             </div>\r\n        );\r\n    }\r\n\r\n    // Only show a global error message if there's an error AND not loading\r\n    if (error && !loading) {\r\n        return (\r\n            <div className=\"container\">\r\n                 <h1>Join Clubs</h1>\r\n                 <p className=\"error-message\">{error}</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>Join Clubs</h1>\r\n\r\n            <div className=\"info-bar\">\r\n                <div className=\"pending-interviews\">\r\n                    Pending Applications: <span id=\"pending-count\">{pendingCount}</span>\r\n                </div>\r\n                <div className=\"search-bar\">\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"search-input\"\r\n                        placeholder=\"Search by Club Name or ID\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                    />\r\n                     {/* Search button is optional if filtering happens on input change */}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Although we have a global error state, you could still display errors here */}\r\n            {/* {error && <div className=\"error-message\">{error}</div>} */}\r\n\r\n\r\n            <div id=\"clubs-grid\" className=\"clubs-grid\">\r\n                 {/* Render Club Cards directly within the map */}\r\n                {filteredClubs.length > 0 ? (\r\n                     filteredClubs.map(club => {\r\n                         const studentUidNumber = Number(student?.uid); // Get student UID safely\r\n\r\n                         // Determine button/status state for *this* club card\r\n                         const isApproved = student && club.approved_std.includes(studentUidNumber);\r\n                         const isRejected = student && club.rejected_std.includes(studentUidNumber);\r\n                         const isPending = student && club.pending_std.includes(studentUidNumber);\r\n\r\n                         let buttonContent;\r\n                         let buttonDisabled = false;\r\n                         let statusMessage = null; // To display messages like Approved/Rejected\r\n\r\n                         if (isApproved) {\r\n                             statusMessage = 'Approved';\r\n                             buttonDisabled = true;\r\n                         } else if (isRejected) {\r\n                             statusMessage = 'Rejected';\r\n                             buttonDisabled = true;\r\n                         } else if (isPending) {\r\n                              buttonContent = 'Already Applied';\r\n                              buttonDisabled = true;\r\n                         } else {\r\n                             buttonContent = 'Register';\r\n                             buttonDisabled = false;\r\n                         }\r\n\r\n                         return (\r\n                            <div key={club._id} className=\"club-card\"> {/* Use recruitment ID as key */}\r\n                                <h3>{club.clubName} ({club.cid || 'N/A'})</h3>\r\n                                <p>Semester: {club.semester}</p>\r\n                                <p>{club.description || 'No description provided.'}</p>\r\n                                <div className=\"card-action-area\"> {/* Flex container for button/message */}\r\n                                    {statusMessage ? (\r\n                                        <span className={`status-message status-${statusMessage.toLowerCase()}`}>{statusMessage}</span>\r\n                                    ) : (\r\n                                        <button\r\n                                            className=\"register-button\"\r\n                                            onClick={() => handleRegister(club._id)} // Call handler with recruitment ID\r\n                                            disabled={buttonDisabled}\r\n                                        >\r\n                                            {buttonContent}\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                         );\r\n                     })\r\n                ) : (\r\n                     // Show message if no clubs found or no results after search\r\n                    recruitingClubs.length > 0 && searchTerm !== '' ? (\r\n                        <p className=\"no-clubs-message\">No clubs match your search.</p>\r\n                    ) : (\r\n                        <p className=\"no-clubs-message\">No clubs are currently recruiting.</p>\r\n                    )\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default JoinClubsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}