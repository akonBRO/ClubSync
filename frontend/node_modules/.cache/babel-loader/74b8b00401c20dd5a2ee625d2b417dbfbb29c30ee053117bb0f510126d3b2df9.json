{"ast":null,"code":"var _jsxFileName = \"E:\\\\ClubSync\\\\frontend\\\\src\\\\pages\\\\ClubRecruitments.jsx\",\n  _s = $RefreshSig$();\n// src/pages/ClubRecruitments.jsx\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './ClubRecruitments.css'; // Import CSS file\nimport { FaPlay, FaStop, FaUsers, FaCheckCircle, FaTimesCircle, FaHourglassHalf, FaSearch, FaInfoCircle, FaSpinner, FaExclamationTriangle } from 'react-icons/fa'; // Using react-icons\n\n// Assume you have a predefined list of possible semesters or fetch them\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AVAILABLE_SEMESTERS = [\"Fall 2025\", \"Spring 2026\", \"Fall 2026\", \"Spring 2027\"\n// Add more as needed\n];\nfunction ClubRecruitments() {\n  _s();\n  // --- State Variables ---\n  const [clubInfo, setClubInfo] = useState(null); // Basic club info { _id, cname, cid }\n  const [isRecruiting, setIsRecruiting] = useState(false); // Club's overall recruitment status ('Yes'/'No')\n  const [activeSemesters, setActiveSemesters] = useState([]); // Semesters currently open for recruitment\n  const [semesterData, setSemesterData] = useState([]); // Stats per active semester\n  const [selectedSemester, setSelectedSemester] = useState(AVAILABLE_SEMESTERS[0] || ''); // Semester to start recruiting for\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [actionLoading, setActionLoading] = useState(false); // Loading state for start/stop actions\n\n  // --- Hooks ---\n  // !! WARNING: This requires the route path to include :clubId !!\n  const {\n    clubId\n  } = useParams();\n  const navigate = useNavigate();\n\n  // --- API Base URL (Configure appropriately) ---\n  const API_URL = '/api/recruitment'; // Adjust based on your server setup\n\n  // --- Fetch Club Recruitment Data ---\n  const fetchClubData = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    // Check if clubId is available before fetching\n    if (!clubId) {\n      setError(\"Club ID not found in URL. Cannot fetch data.\");\n      setIsLoading(false);\n      return;\n    }\n    try {\n      // Corrected: Use GET and the correct API_URL for fetching details\n      const response = await axios.get(`${API_URL}/details/${clubId}`);\n      const {\n        club,\n        activeSemesters: fetchedActiveSemesters,\n        semesterData: fetchedSemesterData\n      } = response.data;\n      setClubInfo({\n        // Store only necessary info\n        _id: club._id,\n        cname: club.cname,\n        cid: club.cid\n      });\n      setIsRecruiting(club.creq === 'Yes');\n      // Ensure activeSemesters is always an array\n      setActiveSemesters(Array.isArray(fetchedActiveSemesters) ? fetchedActiveSemesters : []);\n      // Ensure semesterData is always an array\n      setSemesterData(Array.isArray(fetchedSemesterData) ? fetchedSemesterData : []);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error fetching club recruitment data:\", err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to load recruitment data. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, [clubId, API_URL]); // Dependency: clubId and API_URL\n\n  // --- Initial Data Load ---\n  useEffect(() => {\n    // Initial fetch now includes the check for clubId\n    fetchClubData();\n  }, [fetchClubData]); // Run when fetchClubData changes\n\n  // --- Handle Start Recruitment ---\n  const handleStartRecruitment = async () => {\n    if (!clubId) {\n      setError(\"Club ID not available. Cannot start recruitment.\");\n      return;\n    }\n    if (!selectedSemester) {\n      setError(\"Please select a semester to start recruitment.\");\n      return;\n    }\n    setActionLoading(true);\n    setError(null);\n    try {\n      // Call the refined '/set-recruitment' endpoint using the correct API_URL\n      const response = await axios.post(`${API_URL}/set-recruitment/${clubId}`, {\n        semester: selectedSemester,\n        recruitmentStatus: 'Yes'\n      });\n\n      // Update state based on the response from the backend\n      const {\n        club: updatedClub,\n        semesterData: updatedSemesterData\n      } = response.data;\n      setIsRecruiting(updatedClub.creq === 'Yes');\n      setActiveSemesters(updatedClub.semester || []);\n      setSemesterData(updatedSemesterData || []);\n      // Optionally clear selection or set to next logical semester\n      // setSelectedSemester(AVAILABLE_SEMESTERS[0] || '');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(\"Error starting recruitment:\", err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to start recruitment.\");\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  // --- Handle Stop Recruitment ---\n  const handleStopRecruitment = async () => {\n    if (!clubId) {\n      setError(\"Club ID not available. Cannot stop recruitment.\");\n      return;\n    }\n    setActionLoading(true);\n    setError(null);\n    try {\n      // Call the refined '/set-recruitment' endpoint to turn OFF using the correct API_URL\n      const response = await axios.post(`${API_URL}/set-recruitment/${clubId}`, {\n        recruitmentStatus: 'No'\n        // No semester needed when stopping\n      });\n\n      // Update state based on the response\n      const {\n        club: updatedClub,\n        semesterData: updatedSemesterData\n      } = response.data;\n      setIsRecruiting(updatedClub.creq === 'Yes'); // Should be false now\n      setActiveSemesters(updatedClub.semester || []); // Should be empty now\n      setSemesterData(updatedSemesterData || []); // Should reflect no active semesters\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(\"Error stopping recruitment:\", err);\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || \"Failed to stop recruitment.\");\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  // --- Handle Navigate to Evaluation Page ---\n  const handleEvaluate = semester => {\n    // Navigate to the evaluation route, passing clubId and semester\n    // Assuming the route is /club/:clubId/recruitments/evaluate/:semester\n    if (clubId) {\n      navigate(`/club/${clubId}/recruitments/evaluate/${encodeURIComponent(semester)}`);\n    } else {\n      setError(\"Club ID not available for navigation.\");\n    }\n  };\n\n  // --- Render Logic ---\n  // Handle the case where clubId is missing immediately\n  if (!clubId && !isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 48\n      }, this), \" Club ID is missing from the URL. Please navigate via the Club Dashboard.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }, this);\n  }\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(FaSpinner, {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 51\n      }, this), \" Loading Recruitment Data...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Determine which semesters are available to start recruiting for (not already active)\n  const availableSemestersForStarting = AVAILABLE_SEMESTERS.filter(sem => !activeSemesters.includes(sem));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recruitment-page-container\",\n    children: [clubInfo && /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"recruitment-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [clubInfo.cname, \" - Recruitment Management\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"club-id\",\n        children: [\"Club ID: \", clubInfo.cid]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(FaExclamationTriangle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 54\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"status-control-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `status-indicator ${isRecruiting ? 'active' : 'inactive'}`,\n        children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Recruitment Status: \", isRecruiting ? 'Active' : 'Inactive']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), isRecruiting ?\n      /*#__PURE__*/\n      // --- Controls when ACTIVE ---\n      _jsxDEV(\"div\", {\n        className: \"recruitment-actions\",\n        children: [availableSemestersForStarting.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"start-recruitment-form add-semester-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedSemester,\n            onChange: e => setSelectedSemester(e.target.value),\n            disabled: actionLoading,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              children: \"Select semester to add...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 37\n            }, this), availableSemestersForStarting.map(sem => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: sem,\n              children: sem\n            }, sem, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 41\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleStartRecruitment,\n            disabled: actionLoading || !selectedSemester || !clubId // Disable if clubId is missing\n            ,\n            className: \"action-button start-button\",\n            children: actionLoading ? /*#__PURE__*/_jsxDEV(FaSpinner, {\n              className: \"spinner-button\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 54\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 99\n              }, this), \" Add Recruitment Semester\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleStopRecruitment,\n          disabled: actionLoading || !clubId // Disable if clubId is missing\n          ,\n          className: \"action-button stop-button\",\n          children: actionLoading ? /*#__PURE__*/_jsxDEV(FaSpinner, {\n            className: \"spinner-button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 46\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(FaStop, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 91\n            }, this), \" Stop All Recruitment\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }, this) :\n      /*#__PURE__*/\n      // --- Controls when INACTIVE ---\n      _jsxDEV(\"div\", {\n        className: \"recruitment-actions\",\n        children: availableSemestersForStarting.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"start-recruitment-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedSemester,\n            onChange: e => setSelectedSemester(e.target.value),\n            disabled: actionLoading,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              children: \"Select semester to start...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 38\n            }, this), AVAILABLE_SEMESTERS.map(sem => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: sem,\n              children: sem\n            }, sem, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 41\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleStartRecruitment,\n            disabled: actionLoading || !selectedSemester || !clubId // Disable if clubId is missing\n            ,\n            className: \"action-button start-button\",\n            children: actionLoading ? /*#__PURE__*/_jsxDEV(FaSpinner, {\n              className: \"spinner-button\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 54\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 99\n              }, this), \" Start Recruitment\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"All available semesters are already active or no semesters defined.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this), isRecruiting && activeSemesters.length > 0 && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"active-semesters-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Active Recruitment Semesters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"semester-grid\",\n        children: semesterData.map(data => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"semester-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: data.semester\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"semester-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 40\n              }, this), \" Total Applicants: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: data.totalApplicants\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 70\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(FaHourglassHalf, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 40\n              }, this), \" Pending: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: data.pending\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 69\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {\n                className: \"accepted-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 40\n              }, this), \" Accepted: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: data.accepted\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 93\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(FaTimesCircle, {\n                className: \"rejected-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 40\n              }, this), \" Rejected: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: data.rejected\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 93\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"semester-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEvaluate(data.semester),\n              className: \"action-button evaluate-button\",\n              disabled: !clubId // Disable if clubId is missing\n              ,\n              children: [/*#__PURE__*/_jsxDEV(FaSearch, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 41\n              }, this), \" Evaluate Applicants\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 33\n          }, this)]\n        }, data.semester, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }, this), !isRecruiting && activeSemesters.length === 0 && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"info-section\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 24\n        }, this), \" Recruitment is currently turned off. Select a semester and click \\\"Start Recruitment\\\" to begin accepting applications.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 18\n    }, this), isRecruiting && activeSemesters.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"info-section\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 24\n        }, this), \" Recruitment is ON, but no specific semesters are currently active for applications. Use the form above to add a recruitment semester.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 9\n  }, this);\n}\n_s(ClubRecruitments, \"dlRKn1HJo+lo8tiMnJH+Hb3kslM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ClubRecruitments;\nexport default ClubRecruitments;\nvar _c;\n$RefreshReg$(_c, \"ClubRecruitments\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useParams","useNavigate","FaPlay","FaStop","FaUsers","FaCheckCircle","FaTimesCircle","FaHourglassHalf","FaSearch","FaInfoCircle","FaSpinner","FaExclamationTriangle","jsxDEV","_jsxDEV","Fragment","_Fragment","AVAILABLE_SEMESTERS","ClubRecruitments","_s","clubInfo","setClubInfo","isRecruiting","setIsRecruiting","activeSemesters","setActiveSemesters","semesterData","setSemesterData","selectedSemester","setSelectedSemester","isLoading","setIsLoading","error","setError","actionLoading","setActionLoading","clubId","navigate","API_URL","fetchClubData","response","get","club","fetchedActiveSemesters","fetchedSemesterData","data","_id","cname","cid","creq","Array","isArray","err","_err$response","_err$response$data","console","message","handleStartRecruitment","post","semester","recruitmentStatus","updatedClub","updatedSemesterData","_err$response2","_err$response2$data","handleStopRecruitment","_err$response3","_err$response3$data","handleEvaluate","encodeURIComponent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","availableSemestersForStarting","filter","sem","includes","length","value","onChange","e","target","disabled","map","onClick","totalApplicants","pending","accepted","rejected","_c","$RefreshReg$"],"sources":["E:/ClubSync/frontend/src/pages/ClubRecruitments.jsx"],"sourcesContent":["// src/pages/ClubRecruitments.jsx\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './ClubRecruitments.css'; // Import CSS file\r\nimport {\r\n    FaPlay, FaStop, FaUsers, FaCheckCircle, FaTimesCircle, FaHourglassHalf, FaSearch, FaInfoCircle, FaSpinner, FaExclamationTriangle\r\n} from 'react-icons/fa'; // Using react-icons\r\n\r\n// Assume you have a predefined list of possible semesters or fetch them\r\nconst AVAILABLE_SEMESTERS = [\r\n    \"Fall 2025\",\r\n    \"Spring 2026\",\r\n    \"Fall 2026\",\r\n    \"Spring 2027\",\r\n    // Add more as needed\r\n];\r\n\r\nfunction ClubRecruitments() {\r\n    // --- State Variables ---\r\n    const [clubInfo, setClubInfo] = useState(null); // Basic club info { _id, cname, cid }\r\n    const [isRecruiting, setIsRecruiting] = useState(false); // Club's overall recruitment status ('Yes'/'No')\r\n    const [activeSemesters, setActiveSemesters] = useState([]); // Semesters currently open for recruitment\r\n    const [semesterData, setSemesterData] = useState([]); // Stats per active semester\r\n    const [selectedSemester, setSelectedSemester] = useState(AVAILABLE_SEMESTERS[0] || ''); // Semester to start recruiting for\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [actionLoading, setActionLoading] = useState(false); // Loading state for start/stop actions\r\n\r\n    // --- Hooks ---\r\n    // !! WARNING: This requires the route path to include :clubId !!\r\n    const { clubId } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    // --- API Base URL (Configure appropriately) ---\r\n    const API_URL = '/api/recruitment'; // Adjust based on your server setup\r\n\r\n    // --- Fetch Club Recruitment Data ---\r\n    const fetchClubData = useCallback(async () => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        // Check if clubId is available before fetching\r\n        if (!clubId) {\r\n            setError(\"Club ID not found in URL. Cannot fetch data.\");\r\n            setIsLoading(false);\r\n            return;\r\n        }\r\n        try {\r\n            // Corrected: Use GET and the correct API_URL for fetching details\r\n            const response = await axios.get(`${API_URL}/details/${clubId}`);\r\n\r\n            const { club, activeSemesters: fetchedActiveSemesters, semesterData: fetchedSemesterData } = response.data;\r\n\r\n            setClubInfo({ // Store only necessary info\r\n                _id: club._id,\r\n                cname: club.cname,\r\n                cid: club.cid,\r\n            });\r\n            setIsRecruiting(club.creq === 'Yes');\r\n            // Ensure activeSemesters is always an array\r\n            setActiveSemesters(Array.isArray(fetchedActiveSemesters) ? fetchedActiveSemesters : []);\r\n             // Ensure semesterData is always an array\r\n            setSemesterData(Array.isArray(fetchedSemesterData) ? fetchedSemesterData : []);\r\n\r\n\r\n        } catch (err) {\r\n            console.error(\"Error fetching club recruitment data:\", err);\r\n            setError(err.response?.data?.message || \"Failed to load recruitment data. Please try again.\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, [clubId, API_URL]); // Dependency: clubId and API_URL\r\n\r\n    // --- Initial Data Load ---\r\n    useEffect(() => {\r\n        // Initial fetch now includes the check for clubId\r\n        fetchClubData();\r\n    }, [fetchClubData]); // Run when fetchClubData changes\r\n\r\n    // --- Handle Start Recruitment ---\r\n    const handleStartRecruitment = async () => {\r\n        if (!clubId) {\r\n             setError(\"Club ID not available. Cannot start recruitment.\");\r\n             return;\r\n         }\r\n        if (!selectedSemester) {\r\n            setError(\"Please select a semester to start recruitment.\");\r\n            return;\r\n        }\r\n        setActionLoading(true);\r\n        setError(null);\r\n        try {\r\n            // Call the refined '/set-recruitment' endpoint using the correct API_URL\r\n            const response = await axios.post(`${API_URL}/set-recruitment/${clubId}`, {\r\n                semester: selectedSemester,\r\n                recruitmentStatus: 'Yes'\r\n            });\r\n\r\n            // Update state based on the response from the backend\r\n            const { club: updatedClub, semesterData: updatedSemesterData } = response.data;\r\n            setIsRecruiting(updatedClub.creq === 'Yes');\r\n            setActiveSemesters(updatedClub.semester || []);\r\n            setSemesterData(updatedSemesterData || []);\r\n            // Optionally clear selection or set to next logical semester\r\n            // setSelectedSemester(AVAILABLE_SEMESTERS[0] || '');\r\n\r\n\r\n        } catch (err) {\r\n            console.error(\"Error starting recruitment:\", err);\r\n            setError(err.response?.data?.message || \"Failed to start recruitment.\");\r\n        } finally {\r\n            setActionLoading(false);\r\n        }\r\n    };\r\n\r\n    // --- Handle Stop Recruitment ---\r\n    const handleStopRecruitment = async () => {\r\n        if (!clubId) {\r\n             setError(\"Club ID not available. Cannot stop recruitment.\");\r\n             return;\r\n         }\r\n        setActionLoading(true);\r\n        setError(null);\r\n        try {\r\n            // Call the refined '/set-recruitment' endpoint to turn OFF using the correct API_URL\r\n            const response = await axios.post(`${API_URL}/set-recruitment/${clubId}`, {\r\n                recruitmentStatus: 'No'\r\n                // No semester needed when stopping\r\n            });\r\n\r\n            // Update state based on the response\r\n             const { club: updatedClub, semesterData: updatedSemesterData } = response.data;\r\n             setIsRecruiting(updatedClub.creq === 'Yes'); // Should be false now\r\n             setActiveSemesters(updatedClub.semester || []); // Should be empty now\r\n             setSemesterData(updatedSemesterData || []); // Should reflect no active semesters\r\n\r\n\r\n        } catch (err) {\r\n            console.error(\"Error stopping recruitment:\", err);\r\n            setError(err.response?.data?.message || \"Failed to stop recruitment.\");\r\n        } finally {\r\n            setActionLoading(false);\r\n        }\r\n    };\r\n\r\n    // --- Handle Navigate to Evaluation Page ---\r\n    const handleEvaluate = (semester) => {\r\n        // Navigate to the evaluation route, passing clubId and semester\r\n        // Assuming the route is /club/:clubId/recruitments/evaluate/:semester\r\n         if (clubId) {\r\n             navigate(`/club/${clubId}/recruitments/evaluate/${encodeURIComponent(semester)}`);\r\n         } else {\r\n             setError(\"Club ID not available for navigation.\");\r\n         }\r\n    };\r\n\r\n    // --- Render Logic ---\r\n    // Handle the case where clubId is missing immediately\r\n     if (!clubId && !isLoading) {\r\n         return <div className=\"error-message\"><FaExclamationTriangle /> Club ID is missing from the URL. Please navigate via the Club Dashboard.</div>;\r\n     }\r\n\r\n\r\n    if (isLoading) {\r\n        return <div className=\"loading-container\"><FaSpinner className=\"spinner\" /> Loading Recruitment Data...</div>;\r\n    }\r\n\r\n\r\n    // Determine which semesters are available to start recruiting for (not already active)\r\n    const availableSemestersForStarting = AVAILABLE_SEMESTERS.filter(\r\n        sem => !activeSemesters.includes(sem)\r\n    );\r\n\r\n\r\n    return (\r\n        <div className=\"recruitment-page-container\">\r\n            {clubInfo && (\r\n                <header className=\"recruitment-header\">\r\n                    <h1>{clubInfo.cname} - Recruitment Management</h1>\r\n                    <p className=\"club-id\">Club ID: {clubInfo.cid}</p>\r\n                </header>\r\n            )}\r\n\r\n            {error && <div className=\"error-message\"><FaExclamationTriangle /> {error}</div>}\r\n\r\n            <section className=\"status-control-section\">\r\n                <div className={`status-indicator ${isRecruiting ? 'active' : 'inactive'}`}>\r\n                    <FaInfoCircle />\r\n                    <span>Recruitment Status: {isRecruiting ? 'Active' : 'Inactive'}</span>\r\n                </div>\r\n\r\n                {isRecruiting ? (\r\n                    // --- Controls when ACTIVE ---\r\n                    <div className=\"recruitment-actions\">\r\n                         {/* Option to add another semester */}\r\n                         {availableSemestersForStarting.length > 0 && (\r\n                            <div className=\"start-recruitment-form add-semester-form\">\r\n                                <select\r\n                                    value={selectedSemester}\r\n                                    onChange={(e) => setSelectedSemester(e.target.value)}\r\n                                    disabled={actionLoading}\r\n                                >\r\n                                    <option value=\"\" disabled>Select semester to add...</option>\r\n                                    {availableSemestersForStarting.map(sem => (\r\n                                        <option key={sem} value={sem}>{sem}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <button\r\n                                    onClick={handleStartRecruitment}\r\n                                    disabled={actionLoading || !selectedSemester || !clubId} // Disable if clubId is missing\r\n                                    className=\"action-button start-button\"\r\n                                >\r\n                                    {actionLoading ? <FaSpinner className=\"spinner-button\" /> : <><FaPlay /> Add Recruitment Semester</>}\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                         <button\r\n                            onClick={handleStopRecruitment}\r\n                            disabled={actionLoading || !clubId} // Disable if clubId is missing\r\n                            className=\"action-button stop-button\"\r\n                        >\r\n                            {actionLoading ? <FaSpinner className=\"spinner-button\" /> : <><FaStop /> Stop All Recruitment</>}\r\n                        </button>\r\n                    </div>\r\n                ) : (\r\n                    // --- Controls when INACTIVE ---\r\n                    <div className=\"recruitment-actions\">\r\n                         {availableSemestersForStarting.length > 0 ? (\r\n                            <div className=\"start-recruitment-form\">\r\n                                <select\r\n                                    value={selectedSemester}\r\n                                    onChange={(e) => setSelectedSemester(e.target.value)}\r\n                                    disabled={actionLoading}\r\n                                >\r\n                                     <option value=\"\" disabled>Select semester to start...</option>\r\n                                    {/* Show all available semesters if none are active */}\r\n                                    {AVAILABLE_SEMESTERS.map(sem => (\r\n                                        <option key={sem} value={sem}>{sem}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <button\r\n                                    onClick={handleStartRecruitment}\r\n                                    disabled={actionLoading || !selectedSemester || !clubId} // Disable if clubId is missing\r\n                                    className=\"action-button start-button\"\r\n                                >\r\n                                    {actionLoading ? <FaSpinner className=\"spinner-button\" /> : <><FaPlay /> Start Recruitment</>}\r\n                                </button>\r\n                             </div>\r\n                        ) : (\r\n                            <p>All available semesters are already active or no semesters defined.</p>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </section>\r\n\r\n            {/* Only show active semesters if recruiting is ON and there are active semesters */}\r\n            {isRecruiting && activeSemesters.length > 0 && (\r\n                <section className=\"active-semesters-section\">\r\n                    <h2>Active Recruitment Semesters</h2>\r\n                    <div className=\"semester-grid\">\r\n                         {/* Map over semesterData, which only includes active semesters */}\r\n                        {semesterData.map((data) => (\r\n                            <div key={data.semester} className=\"semester-card\">\r\n                                <h3>{data.semester}</h3>\r\n                                <div className=\"semester-stats\">\r\n                                    <p><FaUsers /> Total Applicants: <span>{data.totalApplicants}</span></p>\r\n                                    <p><FaHourglassHalf /> Pending: <span>{data.pending}</span></p>\r\n                                    <p><FaCheckCircle className=\"accepted-icon\"/> Accepted: <span>{data.accepted}</span></p>\r\n                                    <p><FaTimesCircle className=\"rejected-icon\"/> Rejected: <span>{data.rejected}</span></p>\r\n                                </div>\r\n                                <div className=\"semester-actions\">\r\n                                    <button\r\n                                        onClick={() => handleEvaluate(data.semester)}\r\n                                        className=\"action-button evaluate-button\"\r\n                                         disabled={!clubId} // Disable if clubId is missing\r\n                                    >\r\n                                        <FaSearch /> Evaluate Applicants\r\n                                    </button>\r\n                                    {/* Optional: Add button here to stop recruitment for *only* this semester */}\r\n                                     {/* <button className=\"action-button stop-semester-button\">Stop for {data.semester}</button> */}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n            )}\r\n            {/* Display info messages correctly */}\r\n             {!isRecruiting && (activeSemesters.length === 0) && (\r\n                 <section className=\"info-section\">\r\n                    <p><FaInfoCircle /> Recruitment is currently turned off. Select a semester and click \"Start Recruitment\" to begin accepting applications.</p>\r\n                </section>\r\n            )}\r\n             {/* This specific message might not be reachable if isRecruiting is true but activeSemesters is empty after fetch, */}\r\n             {/* as the fetch should return the current club state. */}\r\n             {/* Keeping it for logical completeness if a state change could lead here */}\r\n             {isRecruiting && activeSemesters.length === 0 && !isLoading && (\r\n                <section className=\"info-section\">\r\n                    <p><FaInfoCircle /> Recruitment is ON, but no specific semesters are currently active for applications. Use the form above to add a recruitment semester.</p>\r\n                </section>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ClubRecruitments;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}